import{P as C,_ as I,z as y,u as x,g as L,f as w,h as B,I as k,N,Q as S,R as A,T as D,o as M,c as T,b as a,w as _,a as t,e as n,t as u,L as $,M as P,U as R}from"./index.c4ac15c6.js";/* empty css              */import{a as z,b as H,c as V}from"./index.20b7076b.js";const E=C("cartStore",{state:()=>({cartList:[]}),actions:{changeCartList(e){this.cartList=e.map(o=>(o.checked=!0,o))},getCartListAsync(){z().then(e=>{this.changeCartList(e.data||[])})}},getters:{cartNum(){return this.cartList.reduce((e,o)=>e+o.goodsCount,0)}}});const g=e=>($("data-v-a4b081dd"),e=e(),P(),e),Q={class:"product-info"},U=["src"],j={class:"info-goodsName"},q=g(()=>t("p",{class:"info-p"},"\u514D\u90AE\u8D39 \u987A\u4E30\u5FEB\u9012",-1)),F={class:"info-price"},G=g(()=>t("ul",{class:"info-ul"},[t("li",null,"\u6982\u8FF0"),t("li",null,"\u53C2\u6570"),t("li",null,"\u5B89\u88C5\u670D\u52A1"),t("li",null,"\u5E38\u89C1\u95EE\u9898")],-1)),J=["innerHTML"],K={__name:"Info",setup(e){const o=E();let p=y();x();let s=L({}),i=w(!1);B(()=>{f()});let f=async()=>{let{data:c}=await H(p.params.productId);for(let r in c)s[r]=c[r];o.getCartListAsync()},h=async()=>{let{resultCode:c,message:r}=await V({goodsCount:1,goodsId:s.goodsId});c===200?(R("\u6DFB\u52A0\u6210\u529F"),o.getCartListAsync()):i.value=!0};return(c,r)=>{const m=k,v=N,l=S,d=A,b=D;return M(),T("div",null,[a(v,{title:"\u5546\u54C1\u8BE6\u60C5","left-arrow":"",onClickLeft:r[0]||(r[0]=O=>c.$router.back())},{right:_(()=>[a(m,{name:"ellipsis",size:"18"})]),_:1}),t("div",Q,[t("img",{src:n(s).goodsCoverImg,alt:"",style:{width:"100%"}},null,8,U),t("div",j,u(n(s).goodsName),1),q,t("p",F,"\uFFE5"+u(n(s).sellingPrice),1),G,t("div",{innerHTML:n(s).goodsDetailContent,class:"info-content"},null,8,J)]),a(b,null,{default:_(()=>[a(l,{icon:"chat-o",text:"\u5BA2\u670D"}),a(l,{icon:"cart-o",text:"\u8D2D\u7269\u8F66",badge:n(o).cartNum,to:"/cart"},null,8,["badge"]),a(d,{color:"linear-gradient(to right, rgb(255, 208, 30), rgb(255, 137, 23))",type:"warning",text:"\u52A0\u5165\u8D2D\u7269\u8F66",onClick:n(h),disabled:n(i)},null,8,["onClick","disabled"]),a(d,{color:"linear-gradient(to right, rgb(255, 208, 30), rgb(255, 137, 23))",type:"danger",text:"\u7ACB\u5373\u8D2D\u4E70"})]),_:1})])}}},Z=I(K,[["__scopeId","data-v-a4b081dd"]]);export{Z as default};
